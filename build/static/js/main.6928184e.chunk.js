(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[0],{10:function(e,t,a){"use strict";var n=a(29);a.d(t,"a",(function(){return n}));a(55),a(74),a(135),a(136);n.initializeApp({apiKey:"AIzaSyAl0OlBwh8zq9r7uZvO2yX4o_b5emaoSNI",authDomain:"drills-and-skills.firebaseapp.com",databaseURL:"https://drills-and-skills.firebaseio.com",projectId:"drills-and-skills",storageBucket:"drills-and-skills.appspot.com",messagingSenderId:"895814479195",appId:"1:895814479195:web:2f018ffed2d1a9d86e7e7e",measurementId:"G-7P4CJ5PEWR"}),n.analytics();n.storage()},109:function(e,t,a){"use strict";(function(e){var n=a(5),l=a(0),r=a.n(l),c=a(7),o=a(10),u=a(32),i=a(11);t.a=function(){var t=Object(l.useState)([]),a=Object(n.a)(t,2),s=a[0],d=a[1],m=o.a.firestore(),p=[],f=Object(l.useState)(!0),h=Object(n.a)(f,2),b=h[0],v=h[1],g=(o.a.firestore().collection("trainers").where("_userType","==","trainers").get().then((function(e){return e.forEach((function(e){var t={};t.value=e.id,t.label=e.data()._name.firstName+" "+e.data()._name.lastName,t.profilePic=e.data()._profilePic,p.push(t),v(!1)})),p})),Object(i.g)());return r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"Jumpshot-tutor"},"Select Jumpshot Tutor Trainers"),r.a.createElement("h2",null,"(When players send in videos for their jumpshot, a trainer will be randomly selected from this list to be sent the video)"),r.a.createElement(u.a,{trainers:s,setTrainers:d,allTrainers:p,isLoading:b}),r.a.createElement(c.a,{onClick:function(t){t.preventDefault(),e.trainers=s;var a={name:"Jumpshot Tutor",trainers:s};e.trainers.length>0?(m.collection("modules").doc("xM2GnZdazKCLjtUuMwo4").set({module:a}).then((function(){return console.log("Doc written successfully!")})),g.push("/success")):alert("Please select at least one trainer")}},"Finish"))}}).call(this,a(137)(e))},110:function(e,t,a){e.exports=a(562)},115:function(e,t,a){},116:function(e,t,a){},32:function(e,t,a){"use strict";var n=a(8),l=a(0),r=a.n(l),c=a(22);t.a=function(e){var t=e.allTrainers,a={option:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},control:function(){return{width:200}},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(n.a)(Object(n.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}};return r.a.createElement("div",null,e.isLoading?r.a.createElement("p",null,"Loading..."):r.a.createElement(c.a,{isMulti:!0,name:"colors",options:t,value:e.trainers,onChange:e.setTrainers,className:"basic-multi-select",classNamePrefix:"select",styles:a}))}},562:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),c=a.n(r),o=(a(115),a(116),a(29),a(15)),u=a(11),i=a(9),s=a.n(i),d=a(16),m=a(5),p=(a(71),a(38)),f=a.n(p);a(55);function h(e,t){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.a.auth().signInWithEmailAndPassword(t,a).catch((function(e){return"auth/wrong-password"===e.code?"Incorrect password. Please try again":"auth/invalid-email"===e.code?"Invalid Email":"auth/user-not-found"===e.code?"Username not found. Please try again.":e})),"pauleastondevteam@gmail.com"==t){e.next=4;break}return alert("You are not authorized"),e.abrupt("return");case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return!!f.a.auth().currentUser}var g=a(7),E=a(39);function j(){var e=Object(E.a)(["\n    padding: 0.5em;\n    margin: 0.5em;\n    color: ",";\n    background: gray;\n    border: none;\n    border-radius: 3px;\n    width: ",";\n    height: ",";\n"]);return j=function(){return e},e}var O=a(40).b.input(j(),(function(e){return e.inputColor||"orange"}),(function(e){return e.width}),(function(e){return e.height}));var y=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],p=o[1],f=Object(u.g)(),b=Object(n.useState)(""),E=Object(m.a)(b,2),j=E[0],y=E[1];function S(){return(S=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(a,i).then((function(e){"string"===typeof e?(console.log(e),r(""),p(""),y(!0)):v()&&"pauleastondevteam@gmail.com"==a&&(console.log("isLogged in is True"),f.push("/home"))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("div",{className:"Login"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin"),l.a.createElement("h2",null,"Sign In"),l.a.createElement("div",null,l.a.createElement(O,{onChange:function(e){return r(e.target.value)},value:a,placeholder:"email",required:!0}),l.a.createElement("br",null),l.a.createElement(O,{type:"password",onChange:function(e){return p(e.target.value)},value:i,placeholder:"password",required:!0}),l.a.createElement("br",null),l.a.createElement(g.a,{onClick:function(e){return function(e){return S.apply(this,arguments)}(e)}},"Submit")),j?l.a.createElement("p",null,"Incorrect Login. Please try again."):"")};function S(){var e=l.a.useState([]),t=Object(m.a)(e,1)[0];return Object(n.useEffect)((function(){var e=0;f.a.firestore().collection("trainers").where("_userType","==","trainers").get().then((function(a){a.forEach((function(a){t[e]=e+1+": "+a.data()._name.firstName+" "+a.data()._name.lastName,e++}))}))})),l.a.createElement("div",null,t.map((function(e){return l.a.createElement("div",{key:e},"Trainer ",e," ")})))}a(74);var w=a(10);var C=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=w.a.firestore();return l.a.createElement("div",{className:""},l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),c.collection("test").doc("test1").set({name:{enteredData:a}}),r("")}(e)}},l.a.createElement(O,{type:"text",placeholder:"Field Data",value:a,onChange:function(e){!function(e){r(e.target.value)}(e)}}),l.a.createElement("div",null),l.a.createElement(g.a,null,"Add Data")))};var k=function(){return l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Drills and Skills Admin Website"),l.a.createElement("h2",null,"Current Trainers:"),l.a.createElement(S,null),l.a.createElement("h2",null,"Write to database: "),l.a.createElement(C,null))};var N=function(){var e=Object(u.g)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){if("videos"===r)e.push("/videos");else if("trainers"===r)e.push("/trainers");else if("modules"===r)e.push("/modules");else if("jumpshot-tutor"===r)e.push("/jumpshot-tutor");else if("livestream"===r)e.push("/livestream");else if("challenge"===r)e.push("/challenge");else if("edit"===r)e.push("/edit");else if("order"===r)e.push("/order");else if("tutorials"===r)e.push("/tutorials");else{if("login"!==r)return;w.a.auth().signOut().then((function(){e.push("/")})).catch((function(e){console.log(e)}))}})),l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin Website"),l.a.createElement(g.a,{onClick:function(){return c("modules")}},"Create Module"),l.a.createElement(g.a,{onClick:function(){return c("edit")}},"Edit Module"),l.a.createElement(g.a,{onClick:function(){return c("jumpshot-tutor")}},"Add/Remove Trainers from Jumpshot Tutor"),l.a.createElement(g.a,{onClick:function(){return c("challenge")}},"Create A Challenge"),l.a.createElement(g.a,{onClick:function(){return c("livestream")}},"Livestream"),l.a.createElement(g.a,{onClick:function(){return c("tutorials")}},"Tutorials"),l.a.createElement(g.a,{onClick:function(){return c("login")}},"Log out"))},x=a(8),A=a(22);var L=function(e){var t=e.allModules,a={option:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{borderBottom:"1px dotted black",color:t.isSelected?"red":"blue"})},control:function(){return{width:200}},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(x.a)(Object(x.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}};return l.a.createElement("div",null,e.isLoading?l.a.createElement("p",null,"Loading"):l.a.createElement(A.a,{align:"center",name:"colors",options:t,label:"Single select",value:e.module,onChange:e.setModule,styles:a}))};var T={option:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},control:function(){return{width:200}},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(x.a)(Object(x.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}},D=function(){var e=w.a.firestore(),t=(Object(u.g)(),e.collection("modules").where("module.userType","==","players").get().then((function(e){return e.forEach((function(e){var t={};t.value=e.id,t.label=e.data().module.name,"Jumpshot Tutor"!==t.label&&C.push(t),d(!1)})),C})),e.collection("modules").where("module.userType","==","coaches").get().then((function(e){return e.forEach((function(e){var t={};t.value=e.id,t.label=e.data().module.name,"Jumpshot Tutor"!==t.label&&k.push(t),d(!1)})),k})),Object(n.useState)("")),a=Object(m.a)(t,2),r=a[0],c=(a[1],Object(n.useState)("")),o=Object(m.a)(c,2),i=(o[0],o[1],Object(n.useState)(!0)),s=Object(m.a)(i,2),d=(s[0],s[1]),p=Object(n.useState)(""),f=Object(m.a)(p,2),h=f[0],b=f[1],v=Object(n.useState)(!1),E=Object(m.a)(v,2),j=(E[0],E[1]),O=Object(n.useState)(!1),y=Object(m.a)(O,2),S=(y[0],y[1]),C=[],k=[];function N(e){b(e),"players"===e?j(!0):"coaches"===e&&S(!0)}return l.a.createElement("header",{className:"App-header"},l.a.createElement("div",null,l.a.createElement("h2",null,"Do you want to set the module order for player modules or coaches modules?"),l.a.createElement(A.a,{options:[{value:"players",label:"Players"},{value:"coaches",label:"Coaches"}],styles:T,value:h,onChange:function(e){N(e.target)}}),l.a.createElement(g.a,{onClick:N()},"Next")),l.a.createElement("div",null,l.a.createElement("h2",null,"Which module do you want to be ordered as #",1..toString()),l.a.createElement(g.a,{onClick:(console.log(r),void console.log(C))},"Next")))},P=a(109),M=a(53),V=function(e){var t=e.component,a=Object(M.a)(e,["component"]);return l.a.createElement(u.b,Object.assign({},a,{render:function(e){return v()?l.a.createElement(t,e):l.a.createElement(u.a,{to:"/"})}}))},I=function(e){var t=e.component,a=e.restricted,n=Object(M.a)(e,["component","restricted"]);return l.a.createElement(u.b,Object.assign({},n,{render:function(e){return v()&&a?l.a.createElement(u.a,{to:"/home"}):l.a.createElement(t,e)}}))},K=a(51),U=a.n(K);var _,F,W,B=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],s=o[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),f=p[0],h=p[1],b=Object(n.useState)(!1),v=Object(m.a)(b,2),E=v[0],j=v[1],y=Object(u.g)(),S=w.a.firestore();return l.a.createElement("div",{className:"App-header"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin Website"),l.a.createElement("h2",null,"Create a New Livestream: "),l.a.createElement("div",null),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),S.collection("livestream").doc("livestream").set({date:a,name:f,link:i}).then((function(){console.log("Doc written successfully!"),r(""),h(""),s(""),j(!0)})),y.push("/success")}},l.a.createElement("p",null,"Session Name: "),l.a.createElement(O,{onChange:function(e){return h(e.target.value)},value:f,placeholder:"Live Session Name"}),l.a.createElement("p",null,"Link: "),l.a.createElement(O,{onChange:function(e){return s(e.target.value)},value:i,placeholder:"Live Session Link"}),l.a.createElement("br",null),l.a.createElement("p",null,"Date & Time: "),l.a.createElement(U.a,{onChange:function(e){return r(e)},value:a}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,null,"Submit")),E?l.a.createElement("p",null,"Upload successful"):""))},J=a(32),G=a(52),R=a(79),Y=a(104),q=w.a.functions().httpsCallable("getSecretKeyAdminApp");q().then((function(e){null!=e.data&&(F=e.data.accessKeyId,W=e.data.secretAccessKey)}));var z=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),o=Object(m.a)(c,2),i=o[0],p=o[1],f=w.a.firestore(),h=Object(u.g)(),b=Object(n.useState)(!1),v=Object(m.a)(b,2),E=v[0],j=v[1],y=Object(n.useState)(1),S=Object(m.a)(y,2),C=S[0],k=S[1],N=Object(n.useState)(""),x=Object(m.a)(N,2),L=x[0],T=x[1],D=Object(n.useState)(),P=Object(m.a)(D,2),M=(P[0],P[1],Object(n.useState)()),V=Object(m.a)(M,2),I=V[0],K=(V[1],Object(n.useState)("")),U=Object(m.a)(K,2),B=U[0],z=U[1],Z=Object(n.useState)(),Q=Object(m.a)(Z,2),H=Q[0],$=Q[1],ee=Object(n.useState)(""),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(""),re=Object(m.a)(le,2),ce=re[0],oe=re[1],ue=Object(n.useState)([]),ie=Object(m.a)(ue,2),se=ie[0],de=ie[1],me=Object(n.useState)(!0),pe=Object(m.a)(me,2),fe=pe[0],he=pe[1],be=Object(n.useState)(!1),ve=Object(m.a)(be,2),ge=ve[0],Ee=ve[1],je=(w.a.firestore().collection("trainers").where("_userType","==","trainers").get().then((function(e){return e.forEach((function(e){var t={};t.value=e.id,t.label=e.data()._name.firstName+" "+e.data()._name.lastName,t.profilePic=e.data()._profilePic,je.push(t),he(!1)})),je})),[]),Oe=Object(n.useState)({}),ye=Object(m.a)(Oe,1)[0];function Se(){T(""),z(""),ne(""),oe("")}function we(){return(we=Object(d.a)(s.a.mark((function e(){var t,a,n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="modules/"+ye.name.replace(/\s/g,"")+"/"+H.replace(/\s/g,"")+"/"+L.replace(/\s/g,"")+".mp4",a=new G.a(B),e.next=4,a.getMetadata();case 4:n=e.sent,l={Bucket:"training-modules",Key:t,Body:B,ContentType:"video/mp4"},Ee(!0),q().then(_=new R.S3({accessKeyId:F,secretAccessKey:W}),console.log(_),_.upload(l,(function(e,t){if(e)throw alert("Upload Unsuccessful"),e;var a={level:H,drill:L,source:t.Location,duration:n.duration,description:ae,guidelines:ce,key:Y.unique(C.toString())};0===ye.videos.length?ye.videos.push({data:[a],title:H}):0===ye.videos[ye.videos.length-1].length?(ye.videos[ye.videos.length-1].data.push([a]),ye.videos[ye.videos.length-1].title=H):(ye.videos[ye.videos.length-1].data.push(a),ye.videos[ye.videos.length-1].title=H),console.log(ye),Ee(!1),alert("Video Upload Successful!")})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin Website"),l.a.createElement("h2",null,"Create New Training Module:"),E?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h3",null,"Name of Level: "),l.a.createElement(O,{onChange:function(e){return $(e.target.value)},value:H,placeholder:"Name The Level"})),l.a.createElement("br",null),l.a.createElement("p",null,"Video ",C),l.a.createElement("p",null,"Video Name:"),l.a.createElement(O,{onChange:function(e){return T(e.target.value)},value:L,placeholder:"Video Name"}),l.a.createElement("p",null,"Video File:"),l.a.createElement(O,{key:I,onChange:function(e){return function(e){console.log(e.target.files),e.target.files[0]&&(z(e.target.files[0]),console.log(B),console.log(L.replace(/\s/g,"")+".mp4"))}(e)},accept:"video/mp4",type:"file",name:"file",placeholder:"file",width:"400px"}),l.a.createElement("p",null,"Description:"),l.a.createElement(O,{onChange:function(e){return ne(e.target.value)},value:ae,placeholder:"Description",width:"500px"}),l.a.createElement("p",null,"Guidelines:"),l.a.createElement(O,{onChange:function(e){return oe(e.target.value)},value:ce,placeholder:"Guidelines",width:"500px"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{onClick:function(e){e.preventDefault(),function(){we.apply(this,arguments)}(),k(C+1),Se()},disabled:ge?"disabled":""},ge?"Video Uploading...":"Upload Video"),l.a.createElement(g.a,{onClick:function(e){e.preventDefault(),ye.videos.push({data:[]}),k(1),$(""),Se(),console.log(ye)},disabled:ge?"disabled":""},"Add a new level"),l.a.createElement(g.a,{onClick:function(e){e.preventDefault(),f.collection("modules").doc().set({module:ye}).then((function(){return console.log("Doc written successfully!")})),Se(),console.log(F),h.push("/success")},disabled:ge?"disabled":""},"Complete module")):l.a.createElement("div",null,l.a.createElement("h3",null,"Module Name:"),l.a.createElement(O,{onChange:function(e){return r(e.target.value)},value:a,placeholder:"Module name"}),l.a.createElement("br",null),l.a.createElement("p",null,"Trainers: "),l.a.createElement(J.a,{trainers:se,setTrainers:de,allTrainers:je,isLoading:fe}),l.a.createElement("p",null,"Module for:"),l.a.createElement(A.a,{options:[{value:"players",label:"Players"},{value:"coaches",label:"Coaches"}],styles:X,value:i,onChange:p}),l.a.createElement(g.a,{onClick:function(e){e.preventDefault(),""!==a&&i?(ye.name=a,ye.userType=i.value,ye.trainers=se,ye.videos=[],j(!0)):alert("Please enter a name for the module and select whether the module is for players or coaches"),console.log(ye)}},"Submit")))},X={option:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},control:function(){return{width:200}},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(x.a)(Object(x.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}};var Z=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],s=o[1],d=Object(n.useState)(!1),p=Object(m.a)(d,2),f=p[0],h=p[1],b=Object(u.g)(),v=w.a.firestore();return l.a.createElement("div",{className:"App-header"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin Website"),l.a.createElement("h2",null,"Create a New Challenge: "),l.a.createElement("div",null),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v.collection("challenge").doc("challenge").set({date:a,challenge:i}).then((function(){console.log("Doc written successfully!"),r(""),s(""),h(!0)})),b.push("/success")}},l.a.createElement("p",null,"Challenge: "),l.a.createElement(O,{onChange:function(e){return s(e.target.value)},value:i,placeholder:"Live Session Name"}),l.a.createElement("br",null),l.a.createElement("p",null,"End Date:"),l.a.createElement(U.a,{onChange:function(e){return r(e)},value:a}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,null,"Submit")),f?l.a.createElement("p",null,"Upload successful"):""))};var Q=function(){return l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Admin App Tutorials"),l.a.createElement("a",{href:"https://drive.google.com/file/d/1Fii5yR_0XP5Cr0fnASVsdFrNpJ1g7Xcx/view?usp=sharing"},"Creating a module"),l.a.createElement("a",{href:"https://drive.google.com/file/d/1Smsqbo1O4w0MhgKPQQv2qMTYh7ARUtRQ/view?usp=sharing"},"Editing a module"),l.a.createElement("a",{href:"https://drive.google.com/file/d/1EZSnFu2t4FCNAPdTLr5XF636lsUlv2DJ/view?usp=sharing"},"Adding/Removing Trainers From Jumpshot Tutor"),l.a.createElement("a",{href:"https://drive.google.com/file/d/1rkwYa1PAdlV6ac38HgrX945Y1rjYrmlW/view?usp=sharing"},"Creating Challenges"),l.a.createElement("a",{href:"https://drive.google.com/file/d/1R_eNGoQGwXZKijrPBzlRvmYX5VWwbDku/view?usp=sharing"},"Creating a Zoom Link"))};var H=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(u.g)();return Object(n.useEffect)((function(){a&&c.push("/home")})),l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin Website"),l.a.createElement("p",null,"Your change has been submitted successfully"),l.a.createElement(g.a,{onClick:function(){r(!0)}},"Go Home"))};var $=function(e){var t=e.allLevels,a={option:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{borderBottom:"1px dotted black",color:t.isSelected?"red":"blue"})},control:function(){return{width:200}},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(x.a)(Object(x.a)({},e),{},{opacity:a,transition:"opacity 300ms"})}};return l.a.createElement("div",null,e.isLoading?l.a.createElement("p",null,"Loading"):l.a.createElement("div",null,console.log(t),l.a.createElement(A.a,{align:"center",name:"colors",options:t,label:"Single select",value:e.moduleLevel,onChange:e.setModuleLevel,styles:a})))};var ee=function(e){var t=Object(n.useState)(e.value),a=Object(m.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",null,l.a.createElement("input",{className:e.className,name:e.name,value:r,onChange:function(e){return c(e.target.value)}}))};var te,ae,ne=function(e){var t=Object(n.useState)(e.module.module.videos),a=Object(m.a)(t,2),r=a[0],c=(a[1],Object(u.g)()),o=r.map((function(e){var t=e.data.map((function(e){return l.a.createElement("div",{id:e.drill,key:e.drill},l.a.createElement("label",{htmlFor:"".concat(e.drill.replace(/\s/g,""),"drill")},"Drill Name:"),l.a.createElement(ee,{id:"drill",className:"input",name:"".concat(e.drill.replace(/\s/g,""),"drill"),value:e.drill}),l.a.createElement("label",{htmlFor:"".concat(e.drill.replace(/\s/g,""),"description")},"Description:"),l.a.createElement(ee,{id:"description",className:"input",name:"".concat(e.drill.replace(/\s/g,""),"description"),value:e.description}),l.a.createElement("label",{htmlFor:"".concat(e.drill.replace(/\s/g,""),"guidelines")},"Guidelines:"),l.a.createElement(ee,{id:"guidelines",className:"input",name:"".concat(e.drill.replace(/\s/g,""),"guidelines"),value:e.guidelines}),l.a.createElement("br",null))}));return l.a.createElement("div",{key:e.title},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"".concat(e.title.replace(/\s/g,""))},"Level:"),l.a.createElement(ee,{id:"title",className:"title",name:"".concat(e.title.replace(/\s/g,"")),value:e.title}),l.a.createElement("br",null)),t,l.a.createElement(g.a,{onClick:function(t){return function(e,t){if(e.preventDefault(),confirm("Please confirm you want to delete the level: "+t+". If not, then press cancel.")){for(var a=0;a<r.length;a++)r[a].title===t&&r.splice(a,1);alert("You have successfully deleted "+t+". Note that the changes will not show up on this page or in the app until you press Complete Changes at the bottom of the screen.")}}(t,e.title)}},"Delete Entire Level: ",e.title),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}));return l.a.createElement("div",null,e.isLoading?l.a.createElement("p",null,"Loading..."):l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(t){return function(t){var a=w.a.firestore();t.preventDefault();var n=new FormData(t.target),l=[];r.forEach((function(e){l.push({title:n.get("".concat(e.title.replace(/\s/g,""))),data:[]}),e.data.forEach((function(t){var a={key:t.key,level:n.get("".concat(e.title.replace(/\s/g,""))),drill:n.get("".concat(t.drill.replace(/\s/g,""),"drill")),source:t.source,description:n.get("".concat(t.drill.replace(/\s/g,""),"description")),guidelines:n.get("".concat(t.drill.replace(/\s/g,""),"guidelines"))};l[l.length-1].data.push(a)}))})),a.collection("modules").doc(e.value).update({"module.videos":l}).then((function(){console.log("Doc written successfully!"),c.push("/success")}))}(t)}},o,l.a.createElement("button",null,"Complete Changes"))))},le=a(79),re=a(104),ce=new le.S3({accessKeyId:te,secretAccessKey:ae});w.a.functions().httpsCallable("getSecretKeyAdminApp")().then((function(e){null!=e.data&&(te=e.data.accessKeyId,ae=e.data.secretAccessKey)}));var oe=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=w.a.firestore(),o=Object(u.g)(),i=Object(n.useState)(1),p=Object(m.a)(i,2),f=p[0],h=p[1],b=Object(n.useState)(""),v=Object(m.a)(b,2),E=v[0],j=v[1],y=Object(n.useState)(""),S=Object(m.a)(y,2),C=S[0],k=S[1],N=Object(n.useState)(""),x=Object(m.a)(N,2),A=x[0],T=x[1],D=Object(n.useState)(""),P=Object(m.a)(D,2),M=P[0],V=P[1],I=Object(n.useState)(!0),K=Object(m.a)(I,2),U=K[0],_=K[1],F=Object(n.useState)({}),W=Object(m.a)(F,2),B=W[0],R=W[1],Y=Object(n.useState)(),q=Object(m.a)(Y,2),z=q[0],X=q[1],Z=Object(n.useState)(),Q=Object(m.a)(Z,2),H=Q[0],ee=(Q[1],Object(n.useState)("")),te=Object(m.a)(ee,2),ae=te[0],oe=te[1],ue=Object(n.useState)(""),ie=Object(m.a)(ue,2),se=ie[0],de=ie[1],me=Object(n.useState)(!0),pe=Object(m.a)(me,2),fe=pe[0],he=pe[1],be=Object(n.useState)(!0),ve=Object(m.a)(be,2),ge=ve[0],Ee=ve[1],je=Object(n.useState)(!0),Oe=Object(m.a)(je,2),ye=Oe[0],Se=Oe[1],we=Object(n.useState)([]),Ce=(Object(m.a)(we,1)[0],c.collection("trainers").where("_userType","==","trainers").get().then((function(e){return e.forEach((function(e){var t={};t.value=e.id,t.label=e.data()._name.firstName+" "+e.data()._name.lastName,t.profilePic=e.data()._profilePic,dt.push(t),he(!1)})),dt})),c.collection("modules").get().then((function(e){return e.forEach((function(e){var t={};t.value=e.id,t.label=e.data().module.name,"Jumpshot Tutor"!==t.label&&mt.push(t),Ee(!1)})),mt})),Object(n.useState)("")),ke=Object(m.a)(Ce,2),Ne=ke[0],xe=ke[1],Ae=Object(n.useState)(""),Le=Object(m.a)(Ae,2),Te=Le[0],De=Le[1],Pe=Object(n.useState)(!1),Me=Object(m.a)(Pe,2),Ve=Me[0],Ie=Me[1],Ke=Object(n.useState)(!1),Ue=Object(m.a)(Ke,2),_e=Ue[0],Fe=Ue[1],We=Object(n.useState)(!1),Be=Object(m.a)(We,2),Je=Be[0],Ge=Be[1],Re=Object(n.useState)(!1),Ye=Object(m.a)(Re,2),qe=Ye[0],ze=Ye[1],Xe=Object(n.useState)(!1),Ze=Object(m.a)(Xe,2),Qe=Ze[0],He=Ze[1],$e=Object(n.useState)(!1),et=Object(m.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)(),lt=Object(m.a)(nt,2),rt=(lt[0],lt[1],Object(n.useState)({})),ct=Object(m.a)(rt,1)[0],ot=Object(n.useState)([]),ut=Object(m.a)(ot,2),it=ut[0],st=ut[1],dt=[],mt=[],pt=[];function ft(){if(!confirm("Are you sure you want to delete this module? This cannot be undone."))return!1;c.collection("modules").doc(M.value).delete().then((function(){return o.push("/success"),console.log("doc deleted successfully"),!0}))}function ht(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==M){e.next=3;break}return alert("Please select a module first."),e.abrupt("return");case 3:if("deleteMod"!==t){e.next=7;break}if(ft()){e.next=7;break}return e.abrupt("return");case 7:if("changeModName"===t&&Ie(!0),"changeTrainers"===t&&Fe(!0),"addLevel"!==t){e.next=13;break}return e.next=12,St();case 12:Ge(!0);case 13:if("addVideoToExisting"!==t){e.next=16;break}return e.next=16,vt();case 16:"editModule"===t&&Et(M),De(t);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return gt.apply(this,arguments)}function gt(){return(gt=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.collection("modules").doc(M.value).get().then((function(e){e.data().module.videos.forEach((function(e){var t={};t.value=e.title,t.label=e.title,pt.push(t)}))})).then((function(){Se(!1),ze(!0)}));case 2:return console.log(pt),e.abrupt("return",pt);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){return jt.apply(this,arguments)}function jt(){return(jt=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.collection("modules").where("module.name","==",t.label).get().then((function(e){e.forEach((function(e){R(e.data())}))})).then((function(){_(!1),He(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){j(""),k(""),oe(""),de("")}function yt(){return(yt=Object(d.a)(s.a.mark((function e(){var t,a,n,l,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(it),console.log(A),console.log(E),t="modules/"+it.module.name.replace(/\s/g,"")+"/"+A.replace(/\s/g,"")+"/"+E.replace(/\s/g,"")+".mp4",a=new G.a(C),e.next=7,a.getMetadata();case 7:return n=e.sent,l={Bucket:"training-modules",Key:t,Body:C,ContentType:"video/mp4"},at(!0),e.next=12,w.a.functions().httpsCallable("getSecretKeyAdminApp");case 12:return r=e.sent,e.next=15,r().then((function(e){null!=e.data&&(ce=new le.S3({accessKeyId:e.data.accessKeyId,secretAccessKey:e.data.secretAccessKey}))}));case 15:ce.upload(l,(function(e,t){if(e)throw alert("Upload Unsuccessful"),e;ct.title||(ct.title=A,ct.data=[]);var a={level:A,drill:E,source:t.Location,duration:n.duration,description:ae,guidelines:se,key:re.unique(f.toString())};ct.data.push(a),console.log(ct),at(!1),alert("Video Upload Successful!")}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return wt.apply(this,arguments)}function wt(){return(wt=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(M.value),c.collection("modules").doc(M.value).get().then((function(e){st(e.data())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return(Ct=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(B);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return(kt=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm("Please make sure your last video has uploaded. If you are sure that you have completed your level, press OK. If not, press cancel and continue to upload videos.")&&(st(it.module.videos.unshift(ct)),t.preventDefault(),c.collection("modules").doc(M.value).update({"module.videos":it.module.videos}).then((function(){return console.log("Doc written successfully!")})),Ot(),o.push("/success"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Paul Easton \ud83c\udfc0 Admin Website"),l.a.createElement("h2",null,"Edit Existing Training Module:"),l.a.createElement("div",null,Qe?l.a.createElement("div",null):l.a.createElement("div",null,l.a.createElement("h3",null,"Module Name:"),l.a.createElement(L,{module:M,setModule:V,allModules:mt,isLoading:ge})),Te?l.a.createElement("div",null,Ve?l.a.createElement("div",null,l.a.createElement("p",null,"New Name: "),l.a.createElement(O,{onChange:function(e){return r(e.target.value)},value:a,placeholder:"Module Name"}),l.a.createElement(g.a,{onClick:function(){c.collection("modules").doc(M.value).update({"module.name":a}).then((function(){console.log("modName updated successfully"),o.push("/success")}))}},"Submit")):"",_e?l.a.createElement("div",null,l.a.createElement("p",null,"Trainers: "),l.a.createElement(J.a,{trainers:z,setTrainers:X,allTrainers:dt,isLoading:fe}),l.a.createElement(g.a,{onClick:function(){z?c.collection("modules").doc(M.value).update({"module.trainers":z}).then((function(){console.log("trainers changed successfully"),o.push("/success")})):alert("Please select at least one trainer")}},"Submit")):"",Je?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h3",null,"Name of Level: "),l.a.createElement(O,{onChange:function(e){return T(e.target.value)},value:A,placeholder:"Name The Level"})),l.a.createElement("br",null),l.a.createElement("p",null,"Video ",f),l.a.createElement("p",null,"Video Name:"),l.a.createElement(O,{onChange:function(e){return j(e.target.value)},value:E,placeholder:"Video Name"}),l.a.createElement("p",null,"Video File:"),l.a.createElement(O,{key:H,onChange:function(e){return function(e){console.log(e.target.files),e.target.files[0]&&(k(e.target.files[0]),console.log(C),console.log(E.replace(/\s/g,"")+".mp4"))}(e)},accept:"video/mp4",type:"file",name:"file",placeholder:"file",width:"400px"}),l.a.createElement("p",null,"Description:"),l.a.createElement(O,{onChange:function(e){return oe(e.target.value)},value:ae,placeholder:"Description",width:"500px"}),l.a.createElement("p",null,"Guidelines:"),l.a.createElement(O,{onChange:function(e){return de(e.target.value)},value:se,placeholder:"Guidelines",width:"500px"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{onClick:function(e){e.preventDefault(),function(){yt.apply(this,arguments)}(),h(f+1),Ot()},disabled:tt?"disabled":""},tt?"Video Uploading...":"Upload Video"),l.a.createElement(g.a,{onClick:function(e){return function(e){return kt.apply(this,arguments)}(e)},disabled:tt?"disabled":""},"Complete and Add Level to Module")):"",Qe?l.a.createElement("div",null,l.a.createElement(ne,{module:B,value:M.value,isLoading:U,onClick:function(e){return Ct.apply(this,arguments)}})):"",qe?l.a.createElement($,{moduleLevel:Ne,setModuleLevel:xe,allLevels:pt,isLoading:ye}):""):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(g.a,{onClick:function(){return ht("editModule")}},"Edit Module Info/Delete Levels"),l.a.createElement(g.a,{onClick:function(){return ht("addLevel")}},"Add level"),l.a.createElement(g.a,{onClick:function(){return ht("changeTrainers")}},"Change assigned trainers"),l.a.createElement(g.a,{onClick:function(){return ht("changeModName")}},"Change module name"),l.a.createElement(g.a,{onClick:function(){return ht("deleteMod")}},"Delete module")),l.a.createElement("br",null)))};var ue=function(){var e=v();return console.log(e),l.a.createElement(o.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(u.d,null,l.a.createElement(I,{exact:!0,path:"/",component:y}),l.a.createElement(V,{restricted:!1,exact:!0,path:"/home",component:N}),l.a.createElement(V,{exact:!0,path:"/trainers",component:k}),l.a.createElement(V,{exact:!0,path:"/success",component:H}),l.a.createElement(V,{exact:!0,path:"/modules",component:z}),l.a.createElement(V,{exact:!0,path:"/jumpshot-tutor",component:P.a}),l.a.createElement(V,{exact:!0,path:"/challenge",component:Z}),l.a.createElement(V,{exact:!0,path:"/livestream",component:B}),l.a.createElement(V,{exact:!0,path:"/edit",component:oe}),l.a.createElement(V,{exact:!0,path:"/order",component:D}),l.a.createElement(V,{restricted:!1,exact:!0,path:"/tutorials",component:Q}))))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ue,null)),document.getElementById("root"))},64:function(e,t){},7:function(e,t,a){"use strict";var n=a(39),l=a(40);function r(){var e=Object(n.a)(["\n            background: palevioletred;\n            color: white;\n        "]);return r=function(){return e},e}function c(){var e=Object(n.a)(["\n    background: grey;\n    border-radius: 3px;\n    border: 2px solid black;\n    color: white;\n    margin: 0.5em 1em;\n    padding: 0.25em 1em;\n    height: 40px;\n    font-size: 0.9em;\n    ",";\n    ",";\n"]);return c=function(){return e},e}var o=l.b.button(c(),(function(e){return e.disabled}),(function(e){return e.primary&&Object(l.a)(r())}));t.a=o},71:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.6928184e.chunk.js.map